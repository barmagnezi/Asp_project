@model IEnumerable<mvc4_poject.Models.PostIntro>

@{
    ViewBag.Title = "Index";
}

<h2>All posts:</h2>


@foreach (var item in Model)
{
    <div class="row" style="float: right; width: 50%">
        <div class="col-sm-6 col-md-4" style="width:100%">
            <div class="thumbnail">
                <div class="caption">
                    <h3 id="title">@item.title</h3>
                    <h4 id="intro-@item.id"></h4>
                </div>
                <img src="@item.image">
                <p><a href="/Post/FullPost/@item.id" class="btn btn-primary" role="button">Full Article</a> <span class="intro" data-idpost="@item.id"><a class="btn btn-default" role="button" id="introButton">Intro</a></span></p>
            </div>
        </div>
    </div>
}

@section scripts {

    <script type="text/javascript">

        $(document).ready(function () {
            $(".intro").mousedown(function () {
                var Id1 = $(this).attr("data-idpost");
                $.ajax({
                    url: '@Url.Action("GetIntro", "Home")',
                    type: 'GET',
                    dataType: 'json',

                    cache: false,
                    data: { Postid: Id1 },
                    success: function (data) {
                        var x = data;
                        document.getElementById("intro-" + Id1).innerHTML = data.intro;
                    }
                });

            })
        });
    </script>

    <script type="text/javascript">

        $(document).ready(function () {
            $(".intro").mousedown(function () {
                //alert();
            })
        });
    </script>


}


