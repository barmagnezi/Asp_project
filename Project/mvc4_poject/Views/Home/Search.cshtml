@model IEnumerable<mvc4_poject.Models.Post>

@{
    ViewBag.Title = "Search results";
}

<h2>Search results:</h2>
<p>

    @using (Html.BeginForm("Search", "Home", FormMethod.Get))
    {
        
        <h3>
            <!--    Looks better, yet one save last searcher option
            <select id="movieGenre" name="movieGenre">
                <option value="">All</option>
                <option>Economy</option>
                <option>Other</option>
                <option>Politics</option>
                <option>Technology</option>
            </select>
            -->
            @Html.DropDownList("PostCat", "All")
            Title: @Html.TextBox("SearchString")
            <input type="submit" style="margin-left:10px" class="btn btn-primary btn-default" role="button" value="Search" />
        </h3>
    }
    
</p>
@foreach (var item in Model)
{
    <div class="row" style="float: left; width: 50%">
        <div class="col-sm-6 col-md-4" style="width:100%">
            <div class="thumbnail">
                <div class="caption">
                    <h3 id="title">@item.title</h3>
                    <h4 id="intro-@item.id"></h4>
                </div>
                @if (@item.images.IsEmpty())
                {
                    <img src="/Images/defualt/news.jpg">
                }
                else
                {
                    if (@item.images.Contains(","))
                    {
                        char[] delimiterChars = { ',' };
                        <img src="@item.images.Split(delimiterChars).First()">
                    }
                    else
                    {
                        <img src="@item.images">
                    }
                }
                <p><a href="/Post/FullPost/@item.id" class="btn btn-primary" role="button">Full Article</a> <span class="intro" data-idpost="@item.id"><a class="btn btn-default" role="button" id="introButton">Intro</a></span></p>
            </div>
        </div>
    </div>
}
